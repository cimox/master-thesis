\chapter{Existujúce vizualizačné a analytické nástroje}
\label{Existujúce vizualizačné a analytické nástroje}
Existuje niekoľko nástrojov, ktoré boli vytvorené s cieľom uľahčiť analýzu a spracovanie prúdov dát. Niektoré z nich sú integrované do existujúcich riešení ako napríklad RapidMiner. Ďalšie nástroje naopak vznikli na zelenej lúke, príkladom takýchto nástrojov môže byť MOA, či WEKA. Špeciálnu pozornosť si zaslúži nástroj MOA, pretože poskytuje širokú bázu algoritmov a API rozhranie pre programovanie a rozširovanie týchto algoritmov. Algoritmy v tomto nástroji sú zamerané na vytvorenie modelov prúdu dát pre napríklad klasifikáciu, nástroj tiež obsahuje príslušné metódy pre evaluáciu kvality vzniknutých modelov. Niektoré z týchto nástrojov tiež poskytujú možnosti vizualizácie dát a modelov. Ďalšími nástrojmi sú Spark, či Storm, ktoré sú orientované viac na samotné spracovanie prúdov dát a poskytujú priestor pre spoľahlivé a škálovateľné riešenia, ktoré môžu byť napríklad klasifikačné algoritmy.

\section{Massive online analysis}
Masívny online analyzátor (z angl. Massive Online Analysis - MOA, ďalej len MOA) je softvérové prostredie pre implementáciu algoritmov a vykonávanie experimentov pre online učenie sa z vyvýjajúcich sa prúdov dát \citep{DBLP:journals/jmlr/BifetHKP10}. MOA pozostáva z kolekcie offline a online metód a tiež nástrojov pre evaluáciu týchto metód. MOA implementuje metódy a algoritmy pre klasifikáciu, zhlukovanie prúdu, detekciu inštancií, ktoré sa vymykajú prahovým hodnotám a tiež odporúčacie systémy. Presnejšie MOA implementuje napríklad nasledujúce: stupňovanie (angl. boosting), vrecovanie (angl. bagging) a Hoeffdingove stromy, všetky metódy s a bez Naive Bayes klasifikátorom na listoch. MOA podporuje obojsmernú interakciu s nástrojom WEKA, ktorý je detailne opísaný v nasledujúcej kapitole. Na \ref{fig:moa} je možné vidieť grafické používateľské rozhranie nástroja (GUI) MOA. Okrem GUI je možné použiť konzolové a API rozhranie prostredníctvom, ktorého sa dá programovať nad rámcom/nástrojom MOA.
\par
MOA je implementovaná v programovacom jazyku Java. Za hlavnú výhodu implementácie v Jave považujú autori jej platformovú nezávislosť. MOA obsahuje tiež syntetický generátor prúdu dát, ktorým je možné modelovať tiež concept drift. V aplikácií je možné definovať pravdepodobnosť, že inštancia prúdu patrí do nového concept drift-u. Možnosi, ktoré MOA poskytuje sú: generovanie prúdov dát, klasifikátory (napr. HoeffdingTree), metódy pre zhlukovanie spolu s ich vizuálizáciu a rozhranie do nástroja WEKA. Sú dostupné nasledovné generátory prúdu \citep{DBLP:journals/jmlr/BifetHKP10}: \textit{Random Tree Generator, SEA Concepts Generator, STAGGER Concepts Generator, Rotating Hyperplane, Random RBF Generator, LED Generator, Waveform Generator, and Function Generator}.
\par
Tento nástroj poskytuje tiež základné možnosti vizualizácie. Dostupná je napríklad vizualizácia zhlukovania, ktorá poskytuje animované zobrazenie zmien zhlukov. V nástroji je tiež možné vizualizovať rôzne metriky napríklad klasifikátorov, vývoj týchto metrík apod.
\myFigure{images/3_moa}{Vizualizácia zhlukovania pomocou nástroja MOA.}{moa}{0.35}{h!}\label{fig:moa}
Evaluácia modelu je dôležitou súčasťou dolovania a analýzy dát. MOA implementuje niekoľko state-of-the-art metód pre evaluáciu modelov vytvorených príslušným algoritmom. Je možné argumentovať, že nasledujúce metódy nie sú najvhodnejšie pre evaluáciu. Toto tvrdenie je akceptovateľné, pretože evaluácia algoritmov pre dolovanie a analýzu prúdov dát je samostatná výskumna oblasť, ktorá sa ešte len vyvíja. Implementované metódy v MOA pre evaluáciu sú:
\begin{itemize}
	\item \textit{Holdout} je vhodné použiť, pretože krížová validácia môže byť často príliš časovo náročná kvôli objemu dát. Namiesto toho je použítá jediná holdout množina na vyhodnotenie kvality modelu.
	\item \textit{Prerušované testovanie-potom-trénovanie} (angl. Interleaved Test-Then-Train alebo tiež Prequential) funguje tak, že každá nová vzorka sa najprv použije na testovanie a následne na trénovanie. Vďaka tomu môže byť presnosť modelu inkrementálne aktualizovaná. Výhoda je, že nie je potrebné udržiavať holdout množinu v pamäti. 
\end{itemize}
\par
Pre spustenie grafického používateľského rozhrania nástroja MOA je potrebné stiahnuť nástroj\footnote{http://moa.cms.waikato.ac.nz/downloads/} a v príkazovom riadku spustiť nasledujúci príkaz:
\begin{lstlisting}
java -Xmx4G -cp moa.jar -javaagent:sizeofag.jar moa.gui.GUI
\end{lstlisting}
Používanie MOA z príkazového riadku:
\begin{lstlisting}
java -cp moa.jar -javaagent:sizeofag.jar moa.DoTask \  "EvaluatePeriodicHeldOutTest -l \
	(OzaBag -l trees.HoeffdingTree -s 10)\  -s generators.WaveformGenerator \  -n 100000 -i 100000000 -f 1000000" > htresult.csv
\end{lstlisting}


\section{WEKA}
The Wakaito Enviroment for Knowledge Analysis (ďalej len Weka) vznikol s jednoduchým cieľom poskytunúť výskumníkom unifikovanú platformu pre prístup k state-of-the-art technikám strojového učenia sa \citep{hall2009weka}. Weka vznikla na University of Waikato na Novom Zélande v roku 1992, pričom je aktívne vyvýjaná posledných 16 rokov. Weka poskytuje kolekciu algoritmov strojového učenia sa pre úlohy dolovania v dátach. Algoritmy môžu byť priamo aplikované na datasety prostredníctvom aplikácie alebo použité vo vlastných aplikáciach volaním Java kódu. Weka obsahuje tiež nástroje na predspracovanie dát, klasifikáciu, regresiu, zhlukovanie, asociačné pravidlá a vizualizáciu. Nástroj je tiež vhodný pre navrhovanie a vývoj nových schém pre strojové učenia sa v kontexte dolovania dát. Nástroj WEKA obsahuje časť WEKA explorer, ktorá je totožná s nástrojom MOA a potom obsahuje ďalšie moduly. Napríklad modul knowledge flow kde je možné interaktívne prepájať a kombinovať rôzne algoritmy pre výber vhodných atribútov, klasifikácie, či zhlukovania.
\par
Cieľom nástroja je poskytnúť pracovný nástroj pre výskumníkov. Poskytuje napríklad (nástroj ich obsahuje omnoho viac, vymenované sú len vybrané) tieto algoritmy určené pre klasifikáciu dát:
\begin{itemize}
	\item \textit{Bayesová logistická regresia} (angl. Bayesian logistic regression), pre kategorizáciu textu s Gausovským a Laplacovým apriori.
	\item \textit{Najlepší prvý rozhodovací strom} (angl. Best-first decision tree), konštrukcia rozhodovacieho stromu so stratégiou najlepší prvý.
	\item \textit{Hybridná rozhodovacia tabuľka a naivný Bayes} (angl. Decision table naive Bayes hybrid) hybridný klasifikátor, ktorý kombinuje rozhodovacie tabuľky a metódu Naivný Bayes.
	\item \textit{Funkčné stromy} sú rozhodovacie stromy s lomeným rozdelením a lineárnymi funkciami v listoch.
\end{itemize}
Weka poskytuje tiež nástroje pre predspracovanie dát, zoznam niektorých filtrov (vymenované sú len vybrané základné filtre):
\begin{itemize}
	\item \textit{Pridanie klasifikátora}, pridá predikcie klasifikátora do datasetu.
	\item \textit{Pridanie ID} ako nového atribútu pre každý záznam datasetu.
	\item \textit{Pridanie hodnoty} chýbajúcim hodnotám z poskytnutého zoznamu.
	\item \textit{Preskupenie atribútov} preusporiadanie poradia atribútov.
	\item \textit{Numerické hodnoty na nominálne}, konverzia numerických hodnôt na nominálne.
\end{itemize}
\myFigure{images/3_weka}{Hlavná obrazovka GUI nástroja WEKA.}{weka}{0.5}{h!}\label{fig:weka}

\section{RapidMiner a Streams-Plugin}
RapidMiner je proprietárny nástroj, ktorý pozostáva z viacerých produktov. Jedným z nich je produkt RapidMiner Studio. RapidMiner studio je výkonné vizuálne prostredie na budovanie kompletných prediktívnych analytických riešení. Tento nástroj pokrýva celý proces analýzy dát od predspracovania, cez čistenie a modelovanie až po výslednú validáciu a vizualizáciu modelu. Nedostatok týchto vizualizácií je nemožnosť vizualizovať zmeny, ktoré nastali v modeli a ovplynili ho. Tiež online vizualizácia učiacich modelov nieje dostupná. Hlavná sila prínos tohto nástroja je v počte rôznych hotových modulov, ktoré obsahuje. Sú to napríklad moduly rozhodovacích stromov, neurónových sietí alebo aj module pre LifeStyle Marketing slúžiaci na predpoveď finančných výsledkov na základe predchádzajúcich transakcií. Nástroj je schopný spracovať dáta z rôznych zdrojov a v rôznych formátoch. Jednoducho je tiež možné pripojiť vlastné skripty napísané napríklad v jazyku Python. Na nasledujúcich obrázkoch možno vidieť zábery z tohto nástroja.

\myFigure{images/3_rapidminer_process}{Dizajnová fáza analytickej práce v nástroji RapidMiner Studio. Jednotlivé uzly predstavujú napríklad zdroj dát, predspracovanie alebo klasifikátor, sú medzi sebou jednoducho prepojené.}{rapidminer-process}{0.5}{h!}\label{fig:rapidminer-process}

\myFigure{images/3_rapidminer_tree}{Vizualizácia vzniknutého modelu rozhodovacieho stromu v nástroji RapidMiner Studio.}{rapidminer-tree}{0.5}{h!}\label{fig:rapidminer-tree}

Streams plugin poskytuje operátory RapidMiner-u pre základné budovanie blokov Streams API použítím obaľovača (angl. wrapper) pre priame použitie implementácie, ktorú poskytuje Streams balík. Operátory Streams Plugin-u sú automaticky vytvorené pomocou procesora a použitím knižnice RapidMiner Beans \citep{bockermann2012processing}. Architektúra Streams Plugin-u je postavená na Streams API, ktoré bolo navrhnuté v práci Bockermanna a Bloma. Na obrázku \ref{fig:rapidminer} je možné vidieť, že RapidMiner Streams-Plugin je tiež možné integrovať s nástrojom MOA, ktorý je detailne popísaný vyššie. 
\myFigure{images/3_rapidminer}{Architektúra RapidMiner Stream Plugin-u a ďalších potrebných častí.}{rapidminer}{0.65}{h!}\label{fig:rapidminer}
Spracovanie prúdu v tomto nástroji pozostáva z dvoch elementov: \textit{prúdy} a \textit{procesory}. Tieto elementy sú reprezentovaná operátormi RapidMiner-u. StreamsPlugin tiež poskytuje webové rozhranie pre získanie okamžitých on-line výsledkov cez JSON-RPC protokol.
\par
Podobný nástroj ako RapidMiner Studio je analytická platforma KNIME\footnote{https://www.knime.org/knime-analytics-platform}. Práca s KNIME je identická a poskytuje veľmi podobné možnosti ako RapidMiner Studio. Vizuálne je nástroj tieť podobný, preto neprikladáme náhľad. Rovnako ako RapidMiner nepokrýva nedostatok online vizualizácie modelov analytických úloh spolu so zmenami.

\section{StreamBase}
StreamBase\footnote{http://www.streambase.com/} je platforma pre spracovanie udalostí, ktorá poskytuje vysoko-výkonný softvér pre budovanie a nasadanie systémov, ktoré analyzujú a reagujú (napr. akciami) na prúdiace dáta v reálnom čase. StreamBase poskytuje prostredie pre svižný vývoj, server pre spracovanie udalostí s nízkou odozvou a vysokou priepustnosťou a zároveň integráciu do podnikových nástrojov, napríklad pre spracovanie historických údajov. Server analyzuje prúdiace dáta a poskytuje výsledky a odpovede v reálnom čase s extrémne nízkou odozvou. Toto je dosiahnuté maximalizáciou využitia hlavnej pamäte a ostatných prostriedkov servera, zatiaľ čo sa eliminujú závislosti na ostatné aplikácie. Integrované vývojové prostredie - StreamBase Studio umožňuje programátorom jednoducho a rýchlo vytvoriť, testovat a debugovať StreamSQL aplikácie použitím grafického modelu toku vykonávania. StreamBase aplikácie sú potom skompilované a nasadené za behu servera.
\par
StreamSQL je dopytovací jazyk, ktorý rozširuje štandard SQL. StreamSQL umožňuje spracovanie prúdov v reálnom čase a dopytovanie sa do nich. Základná myšlienka jazyka SQL je možnosť dopytovať sa do uložených statických kolekcií dát, StreamSQL umožňuje to isté, ale do prúdov dát. Teda, StreamSQL musí zvládnuť spracovať kontinuálny prúd udalostí a časovo orientované záznamy. StreamSQL zachováva schopnosti jazyka SQL zatiaľ čo pridáva nové možnosti ako napríklad: bohatý systém posuvných okien, možnosť miešania prúdiacich dát a statických dát a tiež možnosť pridať vlastnú logiku vo forme analytických funkcií. 
\par
StreamBase EventFlow je jazyk pre prúdove spracovanie vo forme tokov a operátorov ako grafických elementov. Používateľ má možnosť spájať tieto grafické elementy a vytvárať tak jednoducho topológiu pre prúdové spracovanie bez nutnosti programovania. EventFlow integruje všetky možnosti StreamSQL.
\par
Použitie StreamBase sa výborne hodí pre štrukturované aplikácie "reálneho času", ktoré majú za cieľ rýchle spracovanie spolu s rýchlym prototypovaním a nasadením nových funkcionalít.
\myFigure{images/3_streambase}{Vývojové prostredie nástroja StreamBase.}{streambase}{0.55}{h!}\label{fig:streambase}

\section{Spark}
Spark\footnote{http://spark.apache.org/} je klastrový výpočtový systém. Kombinuje spracovanie uložených dát v dávkovom móde so spracovaním prúdu údajov v reálnom čase \citep{cimerman2015prudy}. Cieľom Spark-u je poskytnúť rýchlu výpočtovú platformu pre analýzu dát. Spark poskytuje všeobecný model výkonávania ľubovolných dopytov, ktoré sú výkonávané v hlavnej pamäti (pokiaľ ide o prúdové spracovanie). Tento model je nazvaný \textit{Pružný distribuovaný dataset}, skr. RDD (angl. Resilient Distributed Dataset), čo je dátova abstrakcia distribuovanej pamäti. Keďže výpočet beží v hlavnej pamäti (pri prúdovom spracovaní), nie je potrebné vykonávať zápisy na disk, vďaka čomu môže byť dosiahnuté spracovanie v reálnom čase. Výpočet prebieha vo veľkom klastri uzlov s dosiahnutím odolnosti voči chybám za použitia RDD. RDD  sídli v hlavnej pamäti, ale môže byť periodicky ukladaný na disk. Vďaka distribuovanej povahe RDD môže byť stratená časť RDD obnovená z pamäti iného uzla. Samotné prúdové spracovanie nie je vykonávané správa po správe (angl. message by message), ale v mikro dávkach, ktoré môžu byť automaticky paralelne distrubované v strapci.
\par
Spark Streaming\footnote{http://spark.apache.org/streaming/} alebo tiež, prúdové spracovanie, si v poslednej dobe vyžiadal špeciálnu pozornosť od tvorcom programovacieho rámca. Reagujú tým na vysoký dopyt odbornej verejnosti po prúdovom spracovaní dát, ktoré chýbalo v Spark-u. Spark Streaming poskytuje integrované rozhranie API pre rôzne programovacie jazyky, pričom v budúcnosti je snaha toto rozhranie úplne integrovať s dávakovým spracovaním, aby mohli vývojári používať rovnaké dátové typy pre rôzne typy úloh. Poskytuje tiež aspoň raz (angl. at least once) schému doručenia správ a zaručuje tak odolnosť voči chybám a prípadnej strate správy. Prúdové spracovanie v Spark-u je jednoduché integrovať spolu s dávkovým spracovaním, ktoré poskytuje, či použiť spolu s knižnicou pre strojové učenie sa. 

%\subsection{Storm}
%Storm\footnote{http://storm.apache.org/} je podobne ako Spark klastrový výpočtový systém. Rozdieľom je, že bol navrhnutý primárne na prúdové spracovanie dát \citep{liu2014survey}. Tok dát je v Storme reprezentovaný topologiou vo forme acyklickým orientovaným grafu (z angl. directed acyclic graph, ďalej len DAG) skrutiek a hrdiel. Hrdlo (angl. spout) slúži konzumer dát z externého systému a vstup dát do topológie. Skrutky (angl. bolt) predstavujú uzly, v ktorých je implementovaná logika topológie, napríklad extrakcia kľúčových slov z vety. Nástroj umožňuje paralelné distribuované počítanie, ktoré riadi hlavný server Nimbus. Tento server tiež dohliada na životný stav pracovníkov (angl. worker), ktoré spracúvajú časti dát na rozných fyzických strojoch. V prípade, že nejaký pracovník zlyhá, Nimbus ho ihneď nahradí iným pracovníkom a snaží sa pôvodného reštartovať. Správy medzi uzlami pracovníkov sú potvrdzované (angl. acknowledged) správami ACK, tento princíp je podobný ACK správam z TCP protokolu.
















